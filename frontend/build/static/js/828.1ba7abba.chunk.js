"use strict";(self.webpackChunkvirtual_greenhouse_frontend=self.webpackChunkvirtual_greenhouse_frontend||[]).push([[828],{930:(s,e,a)=>{a.r(e),a.d(e,{default:()=>h});var i=a(43),n=a(216),r=a(475),l=a(640),t=a(204),c=a(488),o=(a(342),a(579));const d=s=>{let{plant:e,onAddToCart:a,isFavorite:n,onToggleFavorite:r}=s;const[l,c]=(0,i.useState)(1),d=s=>{const e=parseInt(s,10);!isNaN(e)&&e>=1&&c(e)};return(0,o.jsxs)("div",{className:"featured-plant-card",children:[(0,o.jsxs)("div",{className:"featured-plant-image",children:[(0,o.jsx)("img",{src:e.image||"/images/plant-placeholder.jpg",alt:e.name,onError:s=>{s.target.onerror=null,s.target.src="/images/plant-placeholder.jpg"}}),(0,o.jsx)("button",{className:"favorite-btn "+(n?"active":""),onClick:s=>{s.stopPropagation(),r()},"aria-label":n?"Remove from favorites":"Add to favorites",children:n?(0,o.jsx)(t.Mbv,{}):(0,o.jsx)(t.sOK,{})})]}),(0,o.jsxs)("div",{className:"featured-plant-info",children:[(0,o.jsx)("h3",{children:e.name}),(0,o.jsx)("p",{className:"plant-desc",children:e.description}),(0,o.jsxs)("div",{className:"plant-price",children:[(0,o.jsxs)("span",{className:"price",children:["$",e.price.toFixed(2)]}),e.originalPrice&&(0,o.jsxs)("span",{className:"original-price",children:["$",e.originalPrice.toFixed(2)]})]}),(0,o.jsxs)("div",{className:"quantity-selector",children:[(0,o.jsx)("button",{className:"quantity-btn",onClick:()=>d(l-1),disabled:l<=1,children:(0,o.jsx)(t.iu5,{})}),(0,o.jsx)("input",{type:"number",min:"1",value:l,onChange:s=>d(s.target.value),className:"quantity-input"}),(0,o.jsx)("button",{className:"quantity-btn",onClick:()=>d(l+1),children:(0,o.jsx)(t.OiG,{})})]}),(0,o.jsxs)("button",{className:"add-to-cart-btn",onClick:s=>{s.stopPropagation(),a(e,l)},children:[(0,o.jsx)(t.AsH,{})," Add to Cart"]})]})]})},h=()=>{var s;const[e,a]=(0,i.useState)(null),[h,p]=(0,i.useState)(!0),[j,x]=(0,i.useState)(null),[m,u]=(0,i.useState)({}),[g,N]=(0,i.useState)({}),{shopId:v}=(0,n.g)(),f=(0,n.Zp)(),{addToCart:b}=(0,l._$)();(0,i.useEffect)((()=>{if(null!==e&&void 0!==e&&e.plants){const s={};e.plants.forEach((e=>{s[e._id]=1})),u(s)}}),[e]),(0,i.useEffect)((()=>{const s=localStorage.getItem("favorites");s&&N(JSON.parse(s))}),[]);const _=s=>{const e={...g,[s]:!g[s]};N(e),localStorage.setItem("favorites",JSON.stringify(e))},C=(s,e)=>{const a=parseInt(e,10);!isNaN(a)&&a>=1&&u((e=>({...e,[s]:a})))},k=s=>{b({id:s._id,name:s.name,price:s.price,image:s.image,shopId:e._id,shopName:e.shopName},m[s._id]||1),c.oR.success(`${m[s._id]||1} ${s.name} added to cart!`,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})};return(0,i.useEffect)((()=>{v&&(async()=>{try{const s=await fetch(`http://localhost:5000/api/shops/${v}`);if(!s.ok)throw new Error("Failed to fetch shop data");const e=await s.json();a(e)}catch(s){x(s.message)}finally{p(!1)}})()}),[v]),h?(0,o.jsxs)("div",{className:"loading-container",children:[(0,o.jsx)("div",{className:"spinner"}),(0,o.jsx)("p",{children:"Loading shop details..."})]}):j?(0,o.jsxs)("div",{className:"error-container",children:[(0,o.jsx)("div",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,o.jsx)("h3",{children:"Error Loading Shop"}),(0,o.jsx)("p",{children:j}),(0,o.jsx)("button",{className:"btn green",onClick:()=>window.location.reload(),children:"Try Again"})]}):e?(0,o.jsxs)("div",{className:"app",children:[(0,o.jsxs)("header",{className:"header",children:[(0,o.jsx)("div",{className:"logo",children:(0,o.jsx)(r.N_,{to:"/",children:(0,o.jsx)("strong",{children:"VirtualGreen"})})}),(0,o.jsxs)("nav",{children:[(0,o.jsx)(r.N_,{to:"/user-dashboard",children:"Home"}),(0,o.jsx)(r.N_,{to:"/virtual-tour",children:"Virtual Tour"}),(0,o.jsx)(r.N_,{to:"/3d-viewer",children:"3D Viewer"}),(0,o.jsx)(r.N_,{to:"/shop",className:"active",children:"Shop"})]}),(0,o.jsxs)("div",{className:"header-actions",children:[(0,o.jsxs)(r.N_,{to:"/cart",className:"cart-icon",children:[(0,o.jsx)(t.AsH,{}),(0,o.jsx)("span",{className:"cart-count",children:"0"})]}),(0,o.jsx)("button",{className:"btn green",onClick:()=>f("/login"),children:"Sign In"})]})]}),(0,o.jsxs)("div",{className:"hero",children:[(0,o.jsx)("div",{className:"hero-image",style:{backgroundImage:`url(${e.bannerImage||"/images/greenhouse.jpg"})`}}),(0,o.jsxs)("div",{className:"hero-overlay",children:[(0,o.jsxs)("div",{className:"shop-rating",children:[[...Array(5)].map(((s,a)=>a<Math.floor(e.rating||0)?(0,o.jsx)(t.gt3,{className:"star filled"},a):(0,o.jsx)(t.wei,{className:"star"},a))),(0,o.jsxs)("span",{children:["(",e.reviewCount||0," reviews)"]})]}),(0,o.jsx)("h1",{children:e.shopName}),(0,o.jsx)("p",{className:"shop-description",children:e.description}),(0,o.jsx)("div",{className:"shop-meta",children:null===(s=e.tags)||void 0===s?void 0:s.map(((s,e)=>(0,o.jsx)("span",{className:"tag",children:s},e)))})]})]}),(0,o.jsx)("section",{className:"shop-info",children:(0,o.jsxs)("div",{className:"info-card",children:[(0,o.jsx)("h3",{children:"Shop Information"}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Address:"})," ",e.address]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Phone:"})," ",e.phone]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Email:"})," ",e.email]})]})}),(0,o.jsxs)("section",{className:"plant-section",children:[(0,o.jsx)("h2",{className:"section-title",children:"Available Plants"}),(0,o.jsx)("div",{className:"plant-grid",children:e.plants&&e.plants.length>0?e.plants.map((s=>(0,o.jsxs)("div",{className:"plant-card",children:[(0,o.jsxs)("div",{className:"plant-image",children:[(0,o.jsx)("img",{src:s.image||"/images/plant-placeholder.jpg",alt:s.name,onError:s=>{s.target.onerror=null,s.target.src="/images/plant-placeholder.jpg"}}),(0,o.jsx)("button",{className:"favorite-btn "+(g[s._id]?"active":""),onClick:()=>_(s._id),"aria-label":g[s._id]?"Remove from favorites":"Add to favorites",children:g[s._id]?(0,o.jsx)(t.Mbv,{}):(0,o.jsx)(t.sOK,{})})]}),(0,o.jsxs)("div",{className:"plant-info",children:[(0,o.jsx)("h3",{children:s.name}),(0,o.jsx)("p",{className:"plant-description",children:s.description}),(0,o.jsxs)("div",{className:"plant-price",children:[(0,o.jsxs)("span",{className:"price",children:["$",s.price.toFixed(2)]}),s.originalPrice&&(0,o.jsxs)("span",{className:"original-price",children:["$",s.originalPrice.toFixed(2)]})]}),(0,o.jsxs)("div",{className:"quantity-selector",children:[(0,o.jsx)("button",{className:"quantity-btn",onClick:()=>C(s._id,(m[s._id]||1)-1),disabled:(m[s._id]||1)<=1,children:(0,o.jsx)(t.iu5,{})}),(0,o.jsx)("input",{type:"number",min:"1",value:m[s._id]||1,onChange:e=>C(s._id,e.target.value),className:"quantity-input"}),(0,o.jsx)("button",{className:"quantity-btn",onClick:()=>C(s._id,(m[s._id]||1)+1),children:(0,o.jsx)(t.OiG,{})})]}),(0,o.jsxs)("button",{className:"add-to-cart-btn",onClick:()=>k(s),children:[(0,o.jsx)(t.AsH,{})," Add to Cart"]})]})]},s._id))):(0,o.jsx)("div",{className:"no-plants",children:(0,o.jsx)("p",{children:"No plants available at the moment. Please check back later."})})})]}),e.featuredPlants&&e.featuredPlants.length>0&&(0,o.jsxs)("section",{className:"featured",children:[(0,o.jsx)("h2",{className:"section-title",children:"Featured Plants"}),(0,o.jsx)("div",{className:"featured-cards",children:e.featuredPlants.map(((s,e)=>(0,o.jsx)(d,{plant:s,onAddToCart:k,isFavorite:!!g[s._id],onToggleFavorite:()=>_(s._id)},e)))})]}),(0,o.jsxs)("section",{className:"cta",children:[(0,o.jsx)("h2",{children:"Ready to Explore More?"}),(0,o.jsx)("button",{className:"btn green",onClick:()=>f("/virtual-tour"),children:"Continue 3D Tour"}),(0,o.jsx)("button",{className:"btn orange",onClick:()=>f("/shop"),children:"Shop Now"})]}),(0,o.jsxs)("footer",{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{children:"VirtualGreen"}),(0,o.jsx)("p",{children:"Shaping the future of plant care"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{children:"Quick Links"}),(0,o.jsxs)("p",{children:["FAQ",(0,o.jsx)("br",{}),"Privacy Policy",(0,o.jsx)("br",{}),"Terms of Use"]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{children:"Support"}),(0,o.jsxs)("p",{children:["Contact Us",(0,o.jsx)("br",{}),"Help Center"]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{children:"Follow Us"}),(0,o.jsx)("p",{children:"Instagram | Facebook | Twitter"})]})]})]}):(0,o.jsxs)("div",{className:"not-found",children:[(0,o.jsx)("h3",{children:"Shop Not Found"}),(0,o.jsx)("p",{children:"The shop you're looking for doesn't exist or has been removed."}),(0,o.jsx)(r.N_,{to:"/shop",className:"btn green",children:"Browse Other Shops"})]})}}}]);
//# sourceMappingURL=828.1ba7abba.chunk.js.map