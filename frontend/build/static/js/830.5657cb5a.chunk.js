"use strict";(self.webpackChunkvirtual_greenhouse_frontend=self.webpackChunkvirtual_greenhouse_frontend||[]).push([[830],{830:(a,e,s)=>{s.r(e),s.d(e,{default:()=>o});var i=s(43),l=s(216),n=s(204),t=s(640),c=s(621),r=s(579);const o=()=>{const{id:a}=(0,l.g)(),e=(0,l.Zp)(),[s,o]=(0,i.useState)(null),[d,h]=(0,i.useState)(!0),[m,p]=(0,i.useState)("plants"),{addToCart:u}=(0,t._$)(),[x,j]=(0,i.useState)([]);(0,i.useEffect)((()=>{(async()=>{try{h(!0);const e=await c.dP.getShopById(a);o(e.data);const s=await c.gc.getPlantsByShop(e.data._id);j(s.data)}catch(s){console.error("Error fetching nursery details:",s),e("/shops")}finally{h(!1)}})()}),[a,e]);return d||!s?(0,r.jsx)("div",{children:"Loading..."}):(0,r.jsxs)("div",{className:"nursery-details",children:[(0,r.jsxs)("header",{className:"nursery-header",children:[(0,r.jsxs)("button",{onClick:()=>e(-1),className:"back-button",children:[(0,r.jsx)(n._Jj,{})," Back"]}),(0,r.jsx)("h1",{children:s.shopName})]}),(0,r.jsxs)("section",{className:"nursery-hero",children:[(0,r.jsx)("div",{className:"nursery-image",children:(0,r.jsx)("img",{src:s.image,alt:s.shopName})}),(0,r.jsxs)("div",{className:"nursery-info",children:[(0,r.jsxs)("h2",{children:["Welcome to ",s.shopName]}),(0,r.jsx)("p",{className:"nursery-description",children:s.description}),(0,r.jsxs)("div",{className:"contact-info",children:[(0,r.jsxs)("div",{className:"contact-item",children:[(0,r.jsx)(n.vq8,{className:"contact-icon"}),(0,r.jsx)("span",{children:s.address})]}),(0,r.jsxs)("div",{className:"contact-item",children:[(0,r.jsx)(n.Cab,{className:"contact-icon"}),(0,r.jsx)("a",{href:`tel:${s.phone.replace(/\D/g,"")}`,children:s.phone})]}),(0,r.jsxs)("div",{className:"contact-item",children:[(0,r.jsx)(n.maD,{className:"contact-icon"}),(0,r.jsx)("a",{href:`mailto:${s.email}`,children:s.email})]})]}),(0,r.jsxs)("button",{className:"virtual-tour-btn",onClick:()=>{const a=`/Virtual/${s.shopName.replace(/ /g,"_").replace(/[^a-zA-Z0-9_]/g,"")}/app-files/index.html`;window.open(a,"_blank")},children:[(0,r.jsx)(n.b9F,{})," Take a Virtual Tour"]})]})]}),(0,r.jsxs)("div",{className:"tabs",children:[(0,r.jsxs)("button",{className:"tab "+("plants"===m?"active":""),onClick:()=>p("plants"),children:[(0,r.jsx)(n.sHz,{})," Plant Collection"]}),(0,r.jsxs)("button",{className:"tab "+("virtual"===m?"active":""),onClick:()=>p("virtual"),children:[(0,r.jsx)(n.KAn,{})," Virtual Tour"]})]}),(0,r.jsx)("div",{className:"tab-content",children:"plants"===m?(0,r.jsx)("div",{className:"plants-grid",children:x&&x.length>0?x.map((a=>(0,r.jsxs)("div",{className:"plant-card",children:[(0,r.jsx)("div",{className:"plant-image",children:(0,r.jsx)("img",{src:a.image,alt:a.name})}),(0,r.jsxs)("div",{className:"plant-details",children:[(0,r.jsx)("h3",{children:a.name}),(0,r.jsx)("p",{className:"plant-category",children:a.category}),(0,r.jsx)("p",{className:"plant-description",children:a.description}),(0,r.jsxs)("div",{className:"plant-footer",children:[(0,r.jsxs)("span",{className:"plant-price",children:["\u20b9",a.price.toLocaleString()]}),(0,r.jsxs)("div",{className:"plant-actions",children:[(0,r.jsx)("button",{className:"view-3d-btn",onClick:e=>{e.stopPropagation();const s=`/Plant3D/${i=a.name,i.toLowerCase().replace(/ /g,"_").replace(/[^a-z0-9_]/g,"")}.glb`;var i;const l=`/Plant3D/viewer.html?model=${encodeURIComponent(s)}`;window.open(l,"_blank")},children:"View 3D"}),(0,r.jsx)("button",{className:"add-to-cart",onClick:()=>(a=>{a._id?u({id:a._id,name:a.name,price:a.price,image:a.image,shopId:s._id,shopName:s.shopName},1):alert("This plant cannot be added to cart (missing database ID).")})(a),children:"Add to Cart"})]})]})]})]},a._id))):(0,r.jsx)("div",{children:"No plants available."})}):(0,r.jsxs)("div",{className:"virtual-tour",children:[(0,r.jsxs)("h3",{children:["Virtual Tour of ",s.shopName]}),(0,r.jsx)("div",{className:"video-container",children:(0,r.jsx)("iframe",{width:"100%",height:"500",src:s.virtualTour,title:`Virtual Tour of ${s.shopName}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),(0,r.jsx)("p",{className:"tour-description",children:"Take a virtual walkthrough of our nursery and explore our wide variety of plants and gardening supplies. Our knowledgeable staff is always available to assist you with your gardening needs."})]})})]})}}}]);
//# sourceMappingURL=830.5657cb5a.chunk.js.map