{"version":3,"file":"static/js/643.80bffe74.chunk.js","mappings":"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","sources":["pages/Cart.jsx"],"sourcesContent":["import React from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useCart } from '../contexts/CartContext';\nimport { toast } from 'react-toastify';\nimport {\n  FaTrash,\n  FaPlus,\n  FaMinus,\n  FaArrowLeft,\n  FaShoppingBag,\n  FaCreditCard,\n  FaMoneyBillWave,\n  FaMapMarkerAlt,\n  FaStore,\n  FaCheckCircle\n} from 'react-icons/fa';\nimport { SiGooglepay } from 'react-icons/si';\nimport 'react-toastify/dist/ReactToastify.css';\nimport '../styles/Cart.css';\nimport { orderAPI } from '../services/api';\nimport '../styles/Cart.css';\n\nconst Cart = () => {\n  const {\n    cart,\n    removeFromCart,\n    updateQuantity,\n    cartTotal,\n    cartCount,\n    clearCart\n  } = useCart();\n\n  const [shippingAddress, setShippingAddress] = React.useState('');\n  const [isCheckingOut, setIsCheckingOut] = React.useState(false);\n  const navigate = useNavigate();\n\n  // Group cart items by shop\n  const cartByShop = cart.reduce((acc, item) => {\n    if (!acc[item.shopId]) {\n      acc[item.shopId] = {\n        shopName: item.shopName,\n        items: [],\n        subtotal: 0\n      };\n    }\n    acc[item.shopId].items.push(item);\n    acc[item.shopId].subtotal += item.price * item.quantity;\n    return acc;\n  }, {});\n\n  // Calculate delivery charges (example: free for orders above 500, else 50)\n  const calculateDeliveryCharge = (subtotal) => {\n    return subtotal > 500 ? 0 : 50;\n  };\n\n  // Calculate total for each shop including delivery\n  const calculateShopTotal = (subtotal) => {\n    const delivery = calculateDeliveryCharge(subtotal);\n    return subtotal + delivery;\n  };\n\n  const handleCheckout = async () => {\n    if (!shippingAddress.trim()) {\n      toast.error('Please enter a shipping address');\n      return;\n    }\n    setIsCheckingOut(true);\n    try {\n      const orderData = {\n        shippingAddress,\n        paymentMethod: 'Cash on Delivery'\n      };\n      await orderAPI.createOrder(orderData);\n      toast.success('Order placed successfully!', {\n        position: 'top-center',\n        autoClose: 3000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true\n      });\n      clearCart();\n      setShippingAddress('');\n      setTimeout(() => {\n        navigate('/orders');\n      }, 2000);\n    } catch (error) {\n      console.error('Error placing order:', error);\n      toast.error(error.response?.data?.message || 'Failed to place order online. Saving locally.');\n      const orderData = {\n        items: cart,\n        shippingAddress,\n        total: cartTotal,\n        orderDate: new Date().toISOString(),\n        status: 'pending',\n        orderId: `ORD-${Date.now()}`\n      };\n      const orders = JSON.parse(localStorage.getItem('orders') || '[]');\n      orders.push(orderData);\n      localStorage.setItem('orders', JSON.stringify(orders));\n      clearCart();\n      setShippingAddress('');\n      setTimeout(() => {\n        navigate('/orders');\n      }, 2000);\n    } finally {\n      setIsCheckingOut(false);\n    }\n  };\n\n  if (cartCount === 0) {\n    return (\n      <div className=\"empty-cart\">\n        <div className=\"empty-cart-content\">\n          <FaShoppingBag className=\"empty-cart-icon\" />\n          <h2>Your cart is empty</h2>\n          <p>Looks like you haven't added any plants to your cart yet.</p>\n          <Link to=\"/shops\" className=\"btn btn-primary\">\n            <FaArrowLeft className=\"mr-2\" /> Continue Shopping\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <div className=\"cart-hero\">\n        <div className=\"cart-hero-content\">\n          <FaShoppingBag className=\"cart-hero-icon\" />\n          <h1>Your Cart <span className=\"cart-count\">({cartCount} {cartCount === 1 ? 'Item' : 'Items'})</span></h1>\n          <p className=\"cart-hero-sub\">All your green picks in one place!</p>\n          <Link to=\"/shops\" className=\"btn btn-outline cart-hero-btn\">\n            <FaArrowLeft /> Continue Shopping\n          </Link>\n        </div>\n      </div>\n\n      {cartTotal < 500 && (\n        <div className=\"cart-offer\">\n          <span>ðŸŒ± Free Delivery on orders above â‚¹500!</span>\n          <div className=\"cart-offer-progress\">\n            <div className=\"cart-offer-bar\" style={{ width: `${Math.min((cartTotal / 500) * 100, 100)}%` }}></div>\n          </div>\n          <span className=\"cart-offer-amount\">â‚¹{(500 - cartTotal).toLocaleString()} away from free delivery</span>\n        </div>\n      )}\n\n      <div className=\"cart-content\">\n        <div className=\"cart-items\">\n          {Object.entries(cartByShop).map(([shopId, shopData]) => (\n            <div key={shopId} className=\"cart-shop-card\">\n              <div className=\"cart-shop-header\">\n                <FaStore className=\"cart-shop-icon\" />\n                <h2>{shopData.shopName}</h2>\n              </div>\n              {shopData.items.map((item) => (\n                <div key={item._id || item.id} className=\"cart-item\">\n                  <div className=\"item-image\">\n                    <img src={item.image || '/placeholder-plant.jpg'} alt={item.name} />\n                  </div>\n                  <div className=\"item-details\">\n                    <h3>{item.name}</h3>\n                    <div className=\"item-category\">{item.category || 'Indoor Plant'}</div>\n                    <div className=\"item-price\">â‚¹{item.price.toLocaleString()}</div>\n                    <div className=\"item-quantity\">\n                      <button className=\"quantity-btn\" onClick={() => updateQuantity(item.id, item.quantity - 1)} disabled={item.quantity <= 1}><FaMinus /></button>\n                      <span className=\"quantity-value\">{item.quantity}</span>\n                      <button className=\"quantity-btn\" onClick={() => updateQuantity(item.id, item.quantity + 1)}><FaPlus /></button>\n                      {item.quantity <= 3 && <span className=\"low-stock-badge\">Low Stock</span>}\n                      <button className=\"btn danger remove-btn\" onClick={() => removeFromCart(item.id)}><FaTrash /> Remove</button>\n                    </div>\n                  </div>\n                  <div className=\"item-total\">â‚¹{(item.price * item.quantity).toLocaleString()}</div>\n                </div>\n              ))}\n              <div className=\"cart-shop-summary\">\n                <div>Subtotal ({shopData.items.length} items): <b>â‚¹{shopData.subtotal.toLocaleString()}</b></div>\n                <div>Delivery: {calculateDeliveryCharge(shopData.subtotal) === 0 ? <span className=\"free-delivery\">Free</span> : `â‚¹${calculateDeliveryCharge(shopData.subtotal).toLocaleString()}`}</div>\n                <div>Total: <span className=\"shop-total\">â‚¹{calculateShopTotal(shopData.subtotal).toLocaleString()}</span></div>\n              </div>\n            </div>\n          ))}\n        </div>\n        <div className=\"cart-summary\">\n          <h2>Order Summary</h2>\n          <div className=\"shipping-address\">\n            <h3><FaMapMarkerAlt /> Delivery Address</h3>\n            <textarea value={shippingAddress} onChange={(e) => setShippingAddress(e.target.value)} placeholder=\"Enter your full shipping address\" rows=\"3\" required />\n          </div>\n          <div className=\"summary-row\"><span>Subtotal</span><span>â‚¹{cartTotal.toLocaleString()}</span></div>\n          <div className=\"summary-row\"><span>Delivery</span><span>{cartTotal > 500 ? 'Free' : 'â‚¹50'}</span></div>\n          <div className=\"summary-row total\"><span>Total</span><span>â‚¹{cartTotal > 500 ? cartTotal.toLocaleString() : (cartTotal + 50).toLocaleString()}</span></div>\n          <button onClick={handleCheckout} disabled={isCheckingOut || !shippingAddress.trim()} className=\"btn place-order-btn\">\n            {isCheckingOut ? <span className=\"loading\">Processing...</span> : 'Place Order'}\n          </button>\n          <p className=\"secure-checkout\"><FaCheckCircle /> Secure Checkout</p>\n        </div>\n      </div>\n\n      <footer className=\"cart-footer\">\n        <div>Â© {new Date().getFullYear()} VirtualGreen. All rights reserved.</div>\n        <div>\n          <a href=\"https://instagram.com\" className=\"social-link\" target=\"_blank\" rel=\"noopener noreferrer\">Instagram</a> |\n          <a href=\"https://facebook.com\" className=\"social-link\" target=\"_blank\" rel=\"noopener noreferrer\">Facebook</a>\n        </div>\n      </footer>\n    </div>\n  );\n};\n\nexport default Cart;\n"],"names":["Cart","cart","removeFromCart","updateQuantity","cartTotal","cartCount","clearCart","useCart","shippingAddress","setShippingAddress","React","isCheckingOut","setIsCheckingOut","navigate","useNavigate","cartByShop","reduce","acc","item","shopId","shopName","items","subtotal","push","price","quantity","calculateDeliveryCharge","_jsx","className","children","_jsxs","FaShoppingBag","Link","to","FaArrowLeft","style","width","Math","min","toLocaleString","Object","entries","map","_ref","shopData","FaStore","src","image","alt","name","category","onClick","id","disabled","FaMinus","FaPlus","FaTrash","_id","length","FaMapMarkerAlt","value","onChange","e","target","placeholder","rows","required","async","trim","orderData","paymentMethod","orderAPI","createOrder","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","setTimeout","error","_error$response","_error$response$data","console","response","data","message","total","orderDate","Date","toISOString","status","orderId","now","orders","JSON","parse","localStorage","getItem","setItem","stringify","FaCheckCircle","getFullYear","href","rel"],"sourceRoot":""}