{"version":3,"file":"static/js/830.5657cb5a.chunk.js","mappings":"+NAQA,MA8KA,EA5KuBA,KACrB,MAAM,GAAEC,IAAOC,EAAAA,EAAAA,KACTC,GAAWC,EAAAA,EAAAA,OACVC,EAASC,IAAcC,EAAAA,EAAAA,UAAS,OAChCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAAWC,IAAgBJ,EAAAA,EAAAA,UAAS,WACrC,UAAEK,IAAcC,EAAAA,EAAAA,OACfC,EAAQC,IAAaR,EAAAA,EAAAA,UAAS,KAErCS,EAAAA,EAAAA,YAAU,KACoBC,WAC1B,IACER,GAAW,GAEX,MAAMS,QAAiBC,EAAAA,GAAQC,YAAYnB,GAC3CK,EAAWY,EAASG,MAEpB,MAAMC,QAAkBC,EAAAA,GAASC,gBAAgBN,EAASG,KAAKI,KAC/DV,EAAUO,EAAUD,KACtB,CAAE,MAAOK,GACPC,QAAQD,MAAM,kCAAmCA,GACjDvB,EAAS,SACX,CAAC,QACCM,GAAW,EACb,GAEFmB,EAAqB,GACpB,CAAC3B,EAAIE,IAiBR,OAAIK,IAAYH,GACPwB,EAAAA,EAAAA,KAAA,OAAAC,SAAK,gBAIZC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBF,SAAA,EAE9BC,EAAAA,EAAAA,MAAA,UAAQC,UAAU,iBAAgBF,SAAA,EAChCC,EAAAA,EAAAA,MAAA,UAAQE,QAASA,IAAM9B,GAAU,GAAI6B,UAAU,cAAaF,SAAA,EAC1DD,EAAAA,EAAAA,KAACK,EAAAA,IAAa,IAAG,YAEnBL,EAAAA,EAAAA,KAAA,MAAAC,SAAKzB,EAAQ8B,eAIfJ,EAAAA,EAAAA,MAAA,WAASC,UAAU,eAAcF,SAAA,EAC/BD,EAAAA,EAAAA,KAAA,OAAKG,UAAU,gBAAeF,UAC5BD,EAAAA,EAAAA,KAAA,OAAKO,IAAK/B,EAAQgC,MAAOC,IAAKjC,EAAQ8B,cAExCJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcF,SAAA,EAC3BC,EAAAA,EAAAA,MAAA,MAAAD,SAAA,CAAI,cAAYzB,EAAQ8B,aACxBN,EAAAA,EAAAA,KAAA,KAAGG,UAAU,sBAAqBF,SAAEzB,EAAQkC,eAE5CR,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcF,SAAA,EAC3BC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcF,SAAA,EAC3BD,EAAAA,EAAAA,KAACW,EAAAA,IAAc,CAACR,UAAU,kBAC1BH,EAAAA,EAAAA,KAAA,QAAAC,SAAOzB,EAAQoC,cAEjBV,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcF,SAAA,EAC3BD,EAAAA,EAAAA,KAACa,EAAAA,IAAO,CAACV,UAAU,kBACnBH,EAAAA,EAAAA,KAAA,KAAGc,KAAM,OAAOtC,EAAQuC,MAAMC,QAAQ,MAAO,MAAMf,SAChDzB,EAAQuC,YAGbb,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcF,SAAA,EAC3BD,EAAAA,EAAAA,KAACiB,EAAAA,IAAU,CAACd,UAAU,kBACtBH,EAAAA,EAAAA,KAAA,KAAGc,KAAM,UAAUtC,EAAQ0C,QAAQjB,SAChCzB,EAAQ0C,eAKfhB,EAAAA,EAAAA,MAAA,UAAQC,UAAU,mBAAmBC,QAASA,KAE5C,MACMe,EAAM,YADG3C,EAAQ8B,SAASU,QAAQ,KAAM,KAAKA,QAAQ,iBAAkB,2BAE7EI,OAAOC,KAAKF,EAAK,SAAS,EAC1BlB,SAAA,EACAD,EAAAA,EAAAA,KAACsB,EAAAA,IAAU,IAAG,iCAMpBpB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMF,SAAA,EACnBC,EAAAA,EAAAA,MAAA,UACEC,UAAW,QAAqB,WAAdtB,EAAyB,SAAW,IACtDuB,QAASA,IAAMtB,EAAa,UAAUmB,SAAA,EAEtCD,EAAAA,EAAAA,KAACuB,EAAAA,IAAM,IAAG,wBAEZrB,EAAAA,EAAAA,MAAA,UACEC,UAAW,QAAqB,YAAdtB,EAA0B,SAAW,IACvDuB,QAASA,IAAMtB,EAAa,WAAWmB,SAAA,EAEvCD,EAAAA,EAAAA,KAACwB,EAAAA,IAAM,IAAG,uBAKdxB,EAAAA,EAAAA,KAAA,OAAKG,UAAU,cAAaF,SACX,WAAdpB,GACCmB,EAAAA,EAAAA,KAAA,OAAKG,UAAU,cAAaF,SACzBhB,GAAUA,EAAOwC,OAAS,EAAIxC,EAAOyC,KAAIC,IACxCzB,EAAAA,EAAAA,MAAA,OAAqBC,UAAU,aAAYF,SAAA,EACzCD,EAAAA,EAAAA,KAAA,OAAKG,UAAU,cAAaF,UAC1BD,EAAAA,EAAAA,KAAA,OAAKO,IAAKoB,EAAMnB,MAAOC,IAAKkB,EAAMC,UAEpC1B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeF,SAAA,EAC5BD,EAAAA,EAAAA,KAAA,MAAAC,SAAK0B,EAAMC,QACX5B,EAAAA,EAAAA,KAAA,KAAGG,UAAU,iBAAgBF,SAAE0B,EAAME,YACrC7B,EAAAA,EAAAA,KAAA,KAAGG,UAAU,oBAAmBF,SAAE0B,EAAMjB,eACxCR,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcF,SAAA,EAC3BC,EAAAA,EAAAA,MAAA,QAAMC,UAAU,cAAaF,SAAA,CAAC,SAAE0B,EAAMG,MAAMC,qBAC5C7B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeF,SAAA,EAC5BD,EAAAA,EAAAA,KAAA,UACEG,UAAU,cACVC,QAAU4B,IACRA,EAAEC,kBACF,MAAMC,EAAU,YAvIzBN,EAuI6CD,EAAMC,KAvI1CA,EAAKO,cAAcnB,QAAQ,KAAM,KAAKA,QAAQ,cAAe,UAAtEY,MAwIS,MAAMQ,EAAa,8BAA8BC,mBAAmBH,KACpEd,OAAOC,KAAKe,EAAY,SAAS,EACjCnC,SACH,aAGDD,EAAAA,EAAAA,KAAA,UAAQG,UAAU,cAAcC,QAASA,IA/GpCuB,KAClBA,EAAM/B,IAIXb,EAAU,CACRX,GAAIuD,EAAM/B,IACVgC,KAAMD,EAAMC,KACZE,MAAOH,EAAMG,MACbtB,MAAOmB,EAAMnB,MACb8B,OAAQ9D,EAAQoB,IAChBU,SAAU9B,EAAQ8B,UACjB,GAVDiC,MAAM,4DAUH,EAmG4DC,CAAgBb,GAAO1B,SAAC,2BAtBrE0B,EAAM/B,QA2BbI,EAAAA,EAAAA,KAAA,OAAAC,SAAK,4BAGZC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcF,SAAA,EAC3BC,EAAAA,EAAAA,MAAA,MAAAD,SAAA,CAAI,mBAAiBzB,EAAQ8B,aAC7BN,EAAAA,EAAAA,KAAA,OAAKG,UAAU,kBAAiBF,UAC9BD,EAAAA,EAAAA,KAAA,UACEyC,MAAM,OACNC,OAAO,MACPnC,IAAK/B,EAAQmE,YACbC,MAAO,mBAAmBpE,EAAQ8B,WAClCuC,YAAY,IACZC,MAAM,2FACNC,iBAAe,OAGnB/C,EAAAA,EAAAA,KAAA,KAAGG,UAAU,mBAAkBF,SAAC,yMAOlC,C","sources":["pages/NurseryDetails.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { FaMapMarkerAlt, FaPhone, FaEnvelope, FaLeaf, FaSeedling, FaTree, FaChevronLeft } from 'react-icons/fa';\nimport '../styles/NurseryDetails.css';\nimport { useCart } from '../contexts/CartContext';\nimport { shopAPI, plantAPI } from '../services/api';\n\n// Helper function to slugify plant names\nconst slugify = (name) => name.toLowerCase().replace(/ /g, '_').replace(/[^a-z0-9_]/g, '');\n\nconst NurseryDetails = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [nursery, setNursery] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState('plants');\n  const { addToCart } = useCart();\n  const [plants, setPlants] = useState([]);\n\n  useEffect(() => {\n    const fetchNurseryDetails = async () => {\n      try {\n        setLoading(true);\n        // Fetch shop/nursery details from backend\n        const response = await shopAPI.getShopById(id);\n        setNursery(response.data);\n        // Fetch plants for this shop\n        const plantsRes = await plantAPI.getPlantsByShop(response.data._id);\n        setPlants(plantsRes.data);\n      } catch (error) {\n        console.error('Error fetching nursery details:', error);\n        navigate('/shops');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchNurseryDetails();\n  }, [id, navigate]);\n\n  const handleAddToCart = (plant) => {\n    if (!plant._id) {\n      alert('This plant cannot be added to cart (missing database ID).');\n      return;\n    }\n    addToCart({\n      id: plant._id,\n      name: plant.name,\n      price: plant.price,\n      image: plant.image,\n      shopId: nursery._id,\n      shopName: nursery.shopName\n    }, 1);\n  };\n\n  if (loading || !nursery) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <div className=\"nursery-details\">\n      {/* Header with Back Button */}\n      <header className=\"nursery-header\">\n        <button onClick={() => navigate(-1)} className=\"back-button\">\n          <FaChevronLeft /> Back\n        </button>\n        <h1>{nursery.shopName}</h1>\n      </header>\n\n      {/* Hero Section */}\n      <section className=\"nursery-hero\">\n        <div className=\"nursery-image\">\n          <img src={nursery.image} alt={nursery.shopName} />\n        </div>\n        <div className=\"nursery-info\">\n          <h2>Welcome to {nursery.shopName}</h2>\n          <p className=\"nursery-description\">{nursery.description}</p>\n\n          <div className=\"contact-info\">\n            <div className=\"contact-item\">\n              <FaMapMarkerAlt className=\"contact-icon\" />\n              <span>{nursery.address}</span>\n            </div>\n            <div className=\"contact-item\">\n              <FaPhone className=\"contact-icon\" />\n              <a href={`tel:${nursery.phone.replace(/\\D/g, '')}`}>\n                {nursery.phone}\n              </a>\n            </div>\n            <div className=\"contact-item\">\n              <FaEnvelope className=\"contact-icon\" />\n              <a href={`mailto:${nursery.email}`}>\n                {nursery.email}\n              </a>\n            </div>\n          </div>\n\n          <button className=\"virtual-tour-btn\" onClick={() => {\n            // Slugify the nursery name for folder path\n            const folder = nursery.shopName.replace(/ /g, '_').replace(/[^a-zA-Z0-9_]/g, '');\n            const url = `/Virtual/${folder}/app-files/index.html`;\n            window.open(url, '_blank');\n          }}>\n            <FaSeedling /> Take a Virtual Tour\n          </button>\n        </div>\n      </section>\n\n      {/* Tabs Navigation */}\n      <div className=\"tabs\">\n        <button\n          className={`tab ${activeTab === 'plants' ? 'active' : ''}`}\n          onClick={() => setActiveTab('plants')}\n        >\n          <FaLeaf /> Plant Collection\n        </button>\n        <button\n          className={`tab ${activeTab === 'virtual' ? 'active' : ''}`}\n          onClick={() => setActiveTab('virtual')}\n        >\n          <FaTree /> Virtual Tour\n        </button>\n      </div>\n\n      {/* Tab Content */}\n      <div className=\"tab-content\">\n        {activeTab === 'plants' ? (\n          <div className=\"plants-grid\">\n            {plants && plants.length > 0 ? plants.map(plant => (\n              <div key={plant._id} className=\"plant-card\">\n                <div className=\"plant-image\">\n                  <img src={plant.image} alt={plant.name} />\n                </div>\n                <div className=\"plant-details\">\n                  <h3>{plant.name}</h3>\n                  <p className=\"plant-category\">{plant.category}</p>\n                  <p className=\"plant-description\">{plant.description}</p>\n                  <div className=\"plant-footer\">\n                    <span className=\"plant-price\">â‚¹{plant.price.toLocaleString()}</span>\n                    <div className=\"plant-actions\">\n                      <button\n                        className=\"view-3d-btn\"\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          const glbPath = `/Plant3D/${slugify(plant.name)}.glb`;\n                          const viewerPath = `/Plant3D/viewer.html?model=${encodeURIComponent(glbPath)}`;\n                          window.open(viewerPath, '_blank');\n                        }}\n                      >\n                        View 3D\n                      </button>\n                      <button className=\"add-to-cart\" onClick={() => handleAddToCart(plant)}>Add to Cart</button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )) : <div>No plants available.</div>}\n          </div>\n        ) : (\n          <div className=\"virtual-tour\">\n            <h3>Virtual Tour of {nursery.shopName}</h3>\n            <div className=\"video-container\">\n              <iframe\n                width=\"100%\"\n                height=\"500\"\n                src={nursery.virtualTour}\n                title={`Virtual Tour of ${nursery.shopName}`}\n                frameBorder=\"0\"\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                allowFullScreen\n              ></iframe>\n            </div>\n            <p className=\"tour-description\">\n              Take a virtual walkthrough of our nursery and explore our wide variety of plants and gardening supplies.\n              Our knowledgeable staff is always available to assist you with your gardening needs.\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default NurseryDetails;\n"],"names":["NurseryDetails","id","useParams","navigate","useNavigate","nursery","setNursery","useState","loading","setLoading","activeTab","setActiveTab","addToCart","useCart","plants","setPlants","useEffect","async","response","shopAPI","getShopById","data","plantsRes","plantAPI","getPlantsByShop","_id","error","console","fetchNurseryDetails","_jsx","children","_jsxs","className","onClick","FaChevronLeft","shopName","src","image","alt","description","FaMapMarkerAlt","address","FaPhone","href","phone","replace","FaEnvelope","email","url","window","open","FaSeedling","FaLeaf","FaTree","length","map","plant","name","category","price","toLocaleString","e","stopPropagation","glbPath","toLowerCase","viewerPath","encodeURIComponent","shopId","alert","handleAddToCart","width","height","virtualTour","title","frameBorder","allow","allowFullScreen"],"sourceRoot":""}