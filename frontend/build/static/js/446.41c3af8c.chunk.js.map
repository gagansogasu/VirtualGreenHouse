{"version":3,"file":"static/js/446.41c3af8c.chunk.js","mappings":"sNAKA,MA2LA,EA3LeA,KACb,MAAOC,EAAQC,IAAaC,EAAAA,EAAAA,UAAS,KAC9BC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAAOC,IAAYJ,EAAAA,EAAAA,UAAS,MAC7BK,GAAWC,EAAAA,EAAAA,OAGjBC,EAAAA,EAAAA,YAAU,KACYC,WAClB,IAEE,IADcC,aAAaC,QAAQ,SAGjC,YADAL,EAAS,UAIXH,GAAW,GACX,MAAMS,QAAiBC,EAAAA,GAASC,YAChCd,EAAUY,EAASG,MACnBV,EAAS,KACX,CAAE,MAAOW,GACPC,QAAQb,MAAM,yBAA0BY,GACxCX,EAAS,gDACX,CAAC,QACCF,GAAW,EACb,GAGFe,EAAa,GACZ,CAACZ,IAGJ,MA0BMa,EAAkBC,IACtB,OAAQA,GACN,IAAK,UAAW,MAAO,UACvB,IAAK,aAAc,MAAO,UAC1B,IAAK,UAAW,MAAO,UACvB,IAAK,YAAa,MAAO,UACzB,IAAK,YAAa,MAAO,UACzB,QAAS,MAAO,UAClB,EAGF,OACEC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,EAC1BF,EAAAA,EAAAA,MAAA,UAAQC,UAAU,gBAAeC,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,OAAMC,SAAC,kBACtBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,kBAAiBH,SAAC,UAC3BC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,SAAQH,SAAC,WAClBC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,QAAOH,SAAC,UACjBC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,WAAUH,SAAC,mBAIxBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBC,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,cAEHrB,IAAWsB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,UAASC,SAAC,sBAEpCnB,IAASoB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gBAAeC,SAAEnB,KAExCF,IAAYE,GAA2B,IAAlBL,EAAO4B,SAC5BN,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,oBAAmBC,SAAC,gBACnCC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,qBACJC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,wCACHC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,SAASJ,UAAU,eAAcC,SAAC,iBAM7CrB,IAAYE,GAASL,EAAO4B,OAAS,IACrCH,EAAAA,EAAAA,KAAA,OAAKF,UAAU,cAAaC,SACzBxB,EAAO6B,KAAKC,IACXR,SAAAA,EAAAA,MAAA,OAAqBC,UAAU,aAAYC,SAAA,EACzCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAI,UAAQM,EAAMC,IAAIC,UAAUF,EAAMC,IAAIH,OAAS,OACnDN,EAAAA,EAAAA,MAAA,KAAGC,UAAU,aAAYC,SAAA,CAAC,cAtDxBS,EAsD8CH,EAAMI,UApD/D,IAAIC,KAAKF,GAAYG,wBAAmBC,EAD/B,CAAEC,KAAM,UAAWC,MAAO,OAAQC,IAAK,oBAuDzCf,EAAAA,EAAAA,KAAA,OAAKF,UAAU,eAAekB,MAAO,CAAEC,MAAOtB,EAAeU,EAAMT,SAAUG,SAC1EM,EAAMT,aAIXI,EAAAA,EAAAA,KAAA,OAAKF,UAAU,cAAaC,SACzBM,EAAMa,MAAMd,KAAKe,IAChBtB,EAAAA,EAAAA,MAAA,OAAoBC,UAAU,aAAYC,SAAA,EACxCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,aAAYC,UACzBC,EAAAA,EAAAA,KAAA,OACEoB,IAAKD,EAAKE,MAAMC,UAAY,gCAC5BC,IAAKJ,EAAKE,MAAMG,UAGpB3B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,MAAAD,SAAKoB,EAAKE,MAAMG,QAChB3B,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,aAAWoB,EAAKM,aACnB5B,EAAAA,EAAAA,MAAA,KAAGC,UAAU,aAAYC,SAAA,CAAC,UAAGoB,EAAKO,MAAQP,EAAKM,UAAUE,QAAQ,WAV3DR,EAAKb,UAgBnBT,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBF,EAAAA,EAAAA,MAAA,KAAAE,SAAA,EAAGC,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,WAAe,UAAGM,EAAMuB,YAAYD,QAAQ,OACvD9B,EAAAA,EAAAA,MAAA,KAAAE,SAAA,EAAGC,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,aAAiB,IAAEM,EAAMwB,kBACpChC,EAAAA,EAAAA,MAAA,KAAAE,SAAA,EAAGC,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,oBAAwB,IAAEM,EAAMyB,qBAE7CjC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BC,EAAAA,EAAAA,KAAA,UACEF,UAAU,mBACViC,QAASA,IAAMjD,EAAS,WAAWuB,EAAMC,OAAOP,SACjD,iBAGiB,YAAjBM,EAAMT,SACLI,EAAAA,EAAAA,KAAA,UACEF,UAAU,mBACViC,QAASA,IAnHL9C,WACxB,GAAI+C,OAAOC,QAAQ,+CACjB,IACEtD,GAAW,SACLU,EAAAA,GAAS6C,YAAYC,GAG3B,MAAM/C,QAAiBC,EAAAA,GAASC,YAChCd,EAAUY,EAASG,MACnBV,EAAS,KACX,CAAE,MAAOW,GAAM,IAAD4C,EAAAC,EACZ5C,QAAQb,MAAM,0BAA2BY,GACzCX,GAAqB,QAAZuD,EAAA5C,EAAIJ,gBAAQ,IAAAgD,GAAM,QAANC,EAAZD,EAAc7C,YAAI,IAAA8C,OAAN,EAAZA,EAAoBC,UAAW,yBAC1C,CAAC,QACC3D,GAAW,EACb,CACF,EAmGmC4D,CAAkBlC,EAAMC,KAAKP,SAC7C,yBA9CCM,EAAMC,KAlDRE,KAuGT,UAKPX,EAAAA,EAAAA,MAAA,UAAQC,UAAU,gBAAeC,SAAA,EAC/BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,kBACJC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,2CAELF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,iBACJC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,SAAQH,SAAC,cAClBC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,WAAUH,SAAC,aACpBC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,OAAMH,SAAC,YAElBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,aACJC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,YAAWH,SAAC,cACrBC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,WAAUH,SAAC,aACpBC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,WAAUH,SAAC,0BAGxBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,CAAC,SACjB,IAAIW,MAAO8B,cAAc,8CAGjC,C","sources":["pages/Orders.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { orderAPI } from '../services/api';\nimport '../styles/Orders.css';\n\nconst Orders = () => {\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n\n  // Fetch orders\n  useEffect(() => {\n    const fetchOrders = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        if (!token) {\n          navigate('/login');\n          return;\n        }\n\n        setLoading(true);\n        const response = await orderAPI.getOrders();\n        setOrders(response.data);\n        setError(null);\n      } catch (err) {\n        console.error('Error fetching orders:', err);\n        setError('Failed to load your orders. Please try again.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchOrders();\n  }, [navigate]);\n\n  // Handle cancel order\n  const handleCancelOrder = async (orderId) => {\n    if (window.confirm('Are you sure you want to cancel this order?')) {\n      try {\n        setLoading(true);\n        await orderAPI.cancelOrder(orderId);\n        \n        // Refresh orders list\n        const response = await orderAPI.getOrders();\n        setOrders(response.data);\n        setError(null);\n      } catch (err) {\n        console.error('Error cancelling order:', err);\n        setError(err.response?.data?.message || 'Failed to cancel order');\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n\n  // Format date\n  const formatDate = (dateString) => {\n    const options = { year: 'numeric', month: 'long', day: 'numeric' };\n    return new Date(dateString).toLocaleDateString(undefined, options);\n  };\n\n  // Get status color\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'Pending': return '#f57c00';\n      case 'Processing': return '#2196f3';\n      case 'Shipped': return '#9c27b0';\n      case 'Delivered': return '#4caf50';\n      case 'Cancelled': return '#f44336';\n      default: return '#757575';\n    }\n  };\n\n  return (\n    <div className=\"orders-page\">\n      <header className=\"orders-header\">\n        <div className=\"logo\">VirtualGreen</div>\n        <nav className=\"orders-nav\">\n          <Link to=\"/user-dashboard\">Home</Link>\n          <Link to=\"/shops\">Shops</Link>\n          <Link to=\"/cart\">Cart</Link>\n          <Link to=\"/profile\">Profile</Link>\n        </nav>\n      </header>\n\n      <div className=\"orders-container\">\n        <h1>My Orders</h1>\n\n        {loading && <div className=\"loading\">Loading orders...</div>}\n\n        {error && <div className=\"error-message\">{error}</div>}\n\n        {!loading && !error && orders.length === 0 && (\n          <div className=\"empty-orders\">\n            <div className=\"empty-orders-icon\">ud83dudce6</div>\n            <h2>No Orders Found</h2>\n            <p>You haven't placed any orders yet.</p>\n            <Link to=\"/shops\" className=\"shop-now-btn\">\n              Shop Now\n            </Link>\n          </div>\n        )}\n\n        {!loading && !error && orders.length > 0 && (\n          <div className=\"orders-list\">\n            {orders.map((order) => (\n              <div key={order._id} className=\"order-card\">\n                <div className=\"order-header\">\n                  <div>\n                    <h3>Order #{order._id.substring(order._id.length - 8)}</h3>\n                    <p className=\"order-date\">Placed on {formatDate(order.orderDate)}</p>\n                  </div>\n                  <div className=\"order-status\" style={{ color: getStatusColor(order.status) }}>\n                    {order.status}\n                  </div>\n                </div>\n\n                <div className=\"order-items\">\n                  {order.items.map((item) => (\n                    <div key={item._id} className=\"order-item\">\n                      <div className=\"item-image\">\n                        <img \n                          src={item.plant.imageUrl || '/assets/plant-placeholder.jpg'} \n                          alt={item.plant.name} \n                        />\n                      </div>\n                      <div className=\"item-details\">\n                        <h4>{item.plant.name}</h4>\n                        <p>Quantity: {item.quantity}</p>\n                        <p className=\"item-price\">₹{(item.price * item.quantity).toFixed(2)}</p>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n\n                <div className=\"order-footer\">\n                  <div className=\"order-info\">\n                    <p><strong>Total:</strong> ₹{order.totalAmount.toFixed(2)}</p>\n                    <p><strong>Payment:</strong> {order.paymentMethod}</p>\n                    <p><strong>Payment Status:</strong> {order.paymentStatus}</p>\n                  </div>\n                  <div className=\"order-actions\">\n                    <button \n                      className=\"view-details-btn\"\n                      onClick={() => navigate(`/orders/${order._id}`)}\n                    >\n                      View Details\n                    </button>\n                    {order.status === 'Pending' && (\n                      <button \n                        className=\"cancel-order-btn\"\n                        onClick={() => handleCancelOrder(order._id)}\n                      >\n                        Cancel Order\n                      </button>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      <footer className=\"orders-footer\">\n        <div className=\"footer-content\">\n          <div className=\"footer-section\">\n            <h4>VirtualGreen</h4>\n            <p>Your virtual greenhouse experience</p>\n          </div>\n          <div className=\"footer-section\">\n            <h4>Quick Links</h4>\n            <Link to=\"/about\">About Us</Link>\n            <Link to=\"/contact\">Contact</Link>\n            <Link to=\"/faq\">FAQ</Link>\n          </div>\n          <div className=\"footer-section\">\n            <h4>Support</h4>\n            <Link to=\"/shipping\">Shipping</Link>\n            <Link to=\"/returns\">Returns</Link>\n            <Link to=\"/privacy\">Privacy Policy</Link>\n          </div>\n        </div>\n        <div className=\"copyright\">\n          &copy; {new Date().getFullYear()} VirtualGreen. All rights reserved.\n        </div>\n      </footer>\n    </div>\n  );\n};\n\nexport default Orders;\n"],"names":["Orders","orders","setOrders","useState","loading","setLoading","error","setError","navigate","useNavigate","useEffect","async","localStorage","getItem","response","orderAPI","getOrders","data","err","console","fetchOrders","getStatusColor","status","_jsxs","className","children","_jsx","Link","to","length","map","order","_id","substring","dateString","orderDate","Date","toLocaleDateString","undefined","year","month","day","style","color","items","item","src","plant","imageUrl","alt","name","quantity","price","toFixed","totalAmount","paymentMethod","paymentStatus","onClick","window","confirm","cancelOrder","orderId","_err$response","_err$response$data","message","handleCancelOrder","getFullYear"],"sourceRoot":""}