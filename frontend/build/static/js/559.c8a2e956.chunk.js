"use strict";(self.webpackChunkvirtual_greenhouse_frontend=self.webpackChunkvirtual_greenhouse_frontend||[]).push([[559],{559:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});var n=a(43),r=a(475),l=a(621),i=a(579);const o=()=>{var e;const[s,a]=(0,n.useState)(0),[o,t]=(0,n.useState)(null),[c,d]=(0,n.useState)([]),[u,h]=(0,n.useState)(!0),[p,m]=(0,n.useState)(null),g=(0,n.useRef)(null),x=(0,n.useRef)(!1),f=(0,n.useRef)(0),j=(0,n.useMemo)((()=>[{image:"/assets/dashboard_1.jpg",title:"Welcome to VirtualGreen",description:"Your ultimate destination for beautiful indoor and outdoor plants",buttonText:"Shop Now",link:"/shops"},{image:"/assets/dashboard_2.jpg",title:"Explore Exotic Plant Collections",description:"Discover rare and unique plants from around the world",buttonText:"Explore Collections",link:"/plants"},{image:"/assets/dashboard_3.jpg",title:"Sustainable Gardening",description:"All our plants are grown using eco-friendly practices",buttonText:"Learn More",link:"/about"}]),[]),v=((0,n.useMemo)((()=>[{name:"Indoor Plants",description:"Perfect plants for improving air quality and adding life to your home.",count:45,image:"/assets/indoor-plants.jpg",link:"/plants/indoor"},{name:"Succulents & Cacti",description:"Low-maintenance plants perfect for beginners and busy people.",count:38,image:"/assets/succulents.jpg",link:"/plants/succulents"},{name:"Flowering Plants",description:"Colorful blooms to brighten up any space in your home or garden.",count:27,image:"/assets/flowering.jpg",link:"/plants/flowering"}]),[]),(0,n.useCallback)((async()=>{try{m(null);const e=await l.Eo.getProfile();t(e.data);d([{_id:"1",shopName:"Nandanam Nursery",description:"One of the oldest and most trusted nurseries in Chennai, offering a wide variety of plants, seeds, and gardening accessories.",address:"No. 12, Venkatesa Agraharam, Mylapore, Chennai, Tamil Nadu 600004",phone:"+91 44 2434 4455",image:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1770&q=80"},{_id:"2",shopName:"The Nurserymen Co-operative Society Ltd",description:"A cooperative society of nurserymen providing quality plants, gardening tools, and expert advice to gardening enthusiasts.",address:"No. 1, 3rd Main Road, CIT Colony, Mylapore, Chennai, Tamil Nadu 600004",phone:"+91 44 2819 0417",image:"https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1753&q=80"}])}catch(p){console.error("Error fetching data:",p),m(p.message)}finally{h(!1)}}),[]));(0,n.useEffect)((()=>{v()}),[v]);const N=(0,n.useCallback)((()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("userType"),window.location.href="/login"}),[]),b=(0,n.useCallback)((()=>{g.current=setInterval((()=>{a((e=>(e+1)%j.length))}),1e4)}),[j.length]),k=(0,n.useCallback)((()=>{clearInterval(g.current),b()}),[b]),y=(0,n.useCallback)((e=>{a(e),k()}),[k]),C=(0,n.useCallback)((e=>{x.current=!0,f.current=e.clientX,clearInterval(g.current)}),[]),w=(0,n.useCallback)((e=>{if(!x.current)return;const a=e.clientX-f.current;Math.abs(a)>50&&(y(a>0?(s-1+j.length)%j.length:(s+1)%j.length),x.current=!1)}),[y,s,j.length]),M=(0,n.useCallback)((()=>{x.current=!1,k()}),[k]),_=(0,n.useCallback)((()=>{x.current&&(x.current=!1,k())}),[k]);return(0,n.useEffect)((()=>(b(),()=>clearInterval(g.current))),[b]),u?(0,i.jsxs)("div",{className:"loading-spinner",children:[(0,i.jsx)("div",{className:"spinner"}),(0,i.jsx)("p",{children:"Loading dashboard..."})]}):p?(0,i.jsxs)("div",{className:"error-container",children:[(0,i.jsx)("h2",{children:"Error Loading Dashboard"}),(0,i.jsx)("p",{children:p}),(0,i.jsx)("button",{onClick:v,className:"retry-button",children:"Retry"})]}):(0,i.jsxs)("div",{className:"user-dashboard",children:[(0,i.jsx)("header",{children:(0,i.jsxs)("nav",{className:"navbar",children:[(0,i.jsx)(r.N_,{to:"/",className:"logo",children:"\ud83c\udf3f VirtualGreen"}),(0,i.jsxs)("ul",{className:"nav-links",children:[(0,i.jsx)("li",{children:(0,i.jsx)(r.N_,{to:"/user-dashboard",className:"active",children:"Home"})}),(0,i.jsx)("li",{children:(0,i.jsx)(r.N_,{to:"/shops",children:"Shops"})})]}),(0,i.jsx)("div",{className:"nav-buttons",children:(0,i.jsxs)("div",{className:"user-menu",children:[(0,i.jsxs)(r.N_,{to:"/profile",className:"profile-link",children:[(0,i.jsx)("span",{className:"user-avatar",children:(null===o||void 0===o||null===(e=o.name)||void 0===e?void 0:e.charAt(0))||"U"}),(0,i.jsx)("span",{className:"user-name",children:(null===o||void 0===o?void 0:o.name)||"User"})]}),(0,i.jsx)("button",{className:"logout-btn",onClick:N,children:"Logout"})]})})]})}),(0,i.jsxs)("div",{className:"slider-container",onMouseDown:C,onMouseMove:w,onMouseUp:M,onMouseLeave:_,children:[j.map(((e,a)=>(0,i.jsx)("div",{className:"slide "+(a===s?"active":""),style:{backgroundImage:`url(${e.image})`},children:(0,i.jsxs)("div",{className:"slider-overlay",children:[(0,i.jsx)("h1",{children:e.title}),(0,i.jsx)("p",{children:e.description}),(0,i.jsx)(r.N_,{to:e.link,className:"shop-btn",children:e.buttonText})]})},a))),(0,i.jsx)("div",{className:"slider-nav",children:j.map(((e,a)=>(0,i.jsx)("button",{className:"slider-dot "+(a===s?"active":""),onClick:()=>y(a),"aria-label":`Go to slide ${a+1}`},a)))}),(0,i.jsxs)("div",{className:"slider-arrows",children:[(0,i.jsx)("button",{className:"slider-arrow prev",onClick:()=>y((s-1+j.length)%j.length),"aria-label":"Previous slide",children:"\u276e"}),(0,i.jsx)("button",{className:"slider-arrow next",onClick:()=>y((s+1)%j.length),"aria-label":"Next slide",children:"\u276f"})]})]}),(0,i.jsxs)("section",{className:"featured-shops",children:[(0,i.jsx)("h2",{children:"Featured Nurseries"}),(0,i.jsx)("div",{className:"shops-grid",children:c.map((e=>(0,i.jsxs)("div",{className:"shop-card",children:[(0,i.jsx)("div",{className:"shop-image",children:(0,i.jsx)("img",{src:e.image,alt:e.shopName,loading:"lazy"})}),(0,i.jsxs)("div",{className:"shop-info",children:[(0,i.jsx)("h3",{children:e.shopName}),(0,i.jsx)("p",{className:"shop-description",children:e.description}),(0,i.jsxs)("div",{className:"shop-details",children:[(0,i.jsx)("p",{className:"shop-address",children:e.address}),(0,i.jsxs)("p",{className:"shop-phone",children:["Phone: ",e.phone]})]})]})]},e._id)))})]})]})}}}]);
//# sourceMappingURL=559.c8a2e956.chunk.js.map