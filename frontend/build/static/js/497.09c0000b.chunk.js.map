{"version":3,"file":"static/js/497.09c0000b.chunk.js","mappings":"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","sources":["pages/ShopRegister.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport '../styles/ShopRegister.css';\n\nconst ShopRegister = () => {\n    const [formData, setFormData] = useState({\n        shopName: '',\n        email: '',\n        password: '',\n        confirmPassword: '',\n        phone: '',\n        address: '',\n        description: '',\n        terms: false\n    });\n\n    const [errors, setErrors] = useState({});\n    const [isLoading, setIsLoading] = useState(false);\n    const [success, setSuccess] = useState('');\n    const navigate = useNavigate();\n\n    const validateForm = () => {\n        const newErrors = {};\n\n        if (!formData.shopName.trim()) {\n            newErrors.shopName = 'Shop name is required';\n        }\n\n        if (!formData.email.trim()) {\n            newErrors.email = 'Email is required';\n        } else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n            newErrors.email = 'Email is invalid';\n        }\n\n        if (!formData.phone.trim()) {\n            newErrors.phone = 'Phone number is required';\n        } else if (!/^\\d{10,}$/.test(formData.phone)) {\n            newErrors.phone = 'Phone number must be at least 10 digits';\n        }\n\n        if (!formData.address.trim()) {\n            newErrors.address = 'Address is required';\n        }\n\n        if (!formData.description.trim()) {\n            newErrors.description = 'Description is required';\n        }\n\n        if (!formData.password) {\n            newErrors.password = 'Password is required';\n        } else if (formData.password.length < 8) {\n            newErrors.password = 'Password must be at least 8 characters';\n        }\n\n        if (formData.password !== formData.confirmPassword) {\n            newErrors.confirmPassword = 'Passwords do not match';\n        }\n\n        if (!formData.terms) {\n            newErrors.terms = 'You must accept the terms and conditions';\n        }\n\n        setErrors(newErrors);\n        return Object.keys(newErrors).length === 0;\n    };\n\n    const handleChange = (e) => {\n        const { name, value, type, checked } = e.target;\n        setFormData(prev => ({\n            ...prev,\n            [name]: type === 'checkbox' ? checked : value\n        }));\n        // Clear error when user starts typing\n        if (errors[name]) {\n            setErrors(prev => ({\n                ...prev,\n                [name]: ''\n            }));\n        }\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        if (!validateForm()) {\n            return;\n        }\n\n        setIsLoading(true);\n        setErrors({});\n\n        try {\n            // Prepare data for API\n            const shopData = {\n                shopName: formData.shopName,\n                email: formData.email,\n                password: formData.password,\n                phone: formData.phone,\n                address: formData.address,\n                description: formData.description\n            };\n\n            // Send registration request to backend\n            const response = await fetch('http://localhost:5000/api/shops/register', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(shopData),\n            });\n\n            const data = await response.json();\n\n            if (!response.ok) {\n                if (data.fields) {\n                    // Handle field-specific errors\n                    setErrors(data.fields);\n                } else if (data.errors) {\n                    // Handle validation errors\n                    setErrors({ submit: data.errors.join(', ') });\n                } else {\n                    throw new Error(data.message || 'Registration failed');\n                }\n                return;\n            }\n\n            // Store token and shop info\n            localStorage.setItem('token', data.token);\n            localStorage.setItem('user', JSON.stringify(data.shop));\n            localStorage.setItem('userType', 'shop');\n\n            setSuccess('Registration successful! Redirecting to dashboard...');\n\n            // Redirect after a short delay\n            setTimeout(() => {\n                navigate('/shop-dashboard');\n            }, 1500);\n\n        } catch (error) {\n            console.error('Registration error:', error);\n            setErrors({ submit: error.message || 'Registration failed. Please try again.' });\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"register-container\">\n            <div className=\"register-card\">\n                <div className=\"center-section\">\n                    <img src=\"/assets/shop_register.png\" alt=\"Shop Registration\" className=\"register-image\" />\n                </div>\n\n                <div className=\"right-section\">\n                    <div className=\"register-header\">\n                        <h1>Create your Shop Account</h1>\n                        <p>Join Virtual Greenhouse as a shop owner</p>\n                    </div>\n\n                    <div className=\"tabs\">\n                        <Link to=\"/register/user\" className=\"tab\">Register as User</Link>\n                        <button className=\"tab active\">Register as Shop</button>\n                    </div>\n\n                    {success && <div className=\"success-message\">{success}</div>}\n                    {errors.submit && <div className=\"error-message\">{errors.submit}</div>}\n\n                    <form onSubmit={handleSubmit}>\n                        <div className=\"form-group\">\n                            <input\n                                type=\"text\"\n                                name=\"shopName\"\n                                placeholder=\"Enter shop name\"\n                                value={formData.shopName}\n                                onChange={handleChange}\n                                className={errors.shopName ? 'error' : ''}\n                                required\n                            />\n                            {errors.shopName && <span className=\"error-message\">{errors.shopName}</span>}\n                        </div>\n\n                        <div className=\"form-group\">\n                            <input\n                                type=\"email\"\n                                name=\"email\"\n                                placeholder=\"Enter email address\"\n                                value={formData.email}\n                                onChange={handleChange}\n                                className={errors.email ? 'error' : ''}\n                                required\n                            />\n                            {errors.email && <span className=\"error-message\">{errors.email}</span>}\n                        </div>\n\n                        <div className=\"form-group\">\n                            <input\n                                type=\"password\"\n                                name=\"password\"\n                                placeholder=\"Enter password\"\n                                value={formData.password}\n                                onChange={handleChange}\n                                className={errors.password ? 'error' : ''}\n                                required\n                            />\n                            {errors.password && <span className=\"error-message\">{errors.password}</span>}\n                        </div>\n\n                        <div className=\"form-group\">\n                            <input\n                                type=\"password\"\n                                name=\"confirmPassword\"\n                                placeholder=\"Confirm password\"\n                                value={formData.confirmPassword}\n                                onChange={handleChange}\n                                className={errors.confirmPassword ? 'error' : ''}\n                                required\n                            />\n                            {errors.confirmPassword && <span className=\"error-message\">{errors.confirmPassword}</span>}\n                        </div>\n\n                        <div className=\"form-group\">\n                            <input\n                                type=\"tel\"\n                                name=\"phone\"\n                                placeholder=\"Enter contact number\"\n                                value={formData.phone}\n                                onChange={handleChange}\n                                className={errors.phone ? 'error' : ''}\n                                required\n                            />\n                            {errors.phone && <span className=\"error-message\">{errors.phone}</span>}\n                        </div>\n\n                        <div className=\"form-group\">\n                            <input\n                                type=\"text\"\n                                name=\"address\"\n                                placeholder=\"Enter shop address\"\n                                value={formData.address}\n                                onChange={handleChange}\n                                className={errors.address ? 'error' : ''}\n                                required\n                            />\n                            {errors.address && <span className=\"error-message\">{errors.address}</span>}\n                        </div>\n\n                        <div className=\"form-group\">\n                            <textarea\n                                name=\"description\"\n                                placeholder=\"Enter shop description\"\n                                value={formData.description}\n                                onChange={handleChange}\n                                className={errors.description ? 'error' : ''}\n                                required\n                            />\n                            {errors.description && <span className=\"error-message\">{errors.description}</span>}\n                        </div>\n\n                        <div className=\"form-group terms\">\n                            <label>\n                                <input\n                                    type=\"checkbox\"\n                                    name=\"terms\"\n                                    checked={formData.terms}\n                                    onChange={handleChange}\n                                    className={errors.terms ? 'error' : ''}\n                                />\n                                I agree to the Terms and Conditions\n                            </label>\n                            {errors.terms && <span className=\"error-message\">{errors.terms}</span>}\n                        </div>\n\n                        <button\n                            type=\"submit\"\n                            className=\"register-btn\"\n                            disabled={isLoading}\n                        >\n                            {isLoading ? 'Registering...' : 'Create Shop Account'}\n                        </button>\n                    </form>\n\n                    <p className=\"login-link\">\n                        Already have an account? <Link to=\"/login\">Login here</Link>\n                    </p>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ShopRegister;"],"names":["ShopRegister","formData","setFormData","useState","shopName","email","password","confirmPassword","phone","address","description","terms","errors","setErrors","isLoading","setIsLoading","success","setSuccess","navigate","useNavigate","handleChange","e","name","value","type","checked","target","prev","_jsx","className","children","_jsxs","src","alt","Link","to","submit","onSubmit","async","preventDefault","validateForm","newErrors","trim","test","length","Object","keys","shopData","response","fetch","method","headers","body","JSON","stringify","data","json","ok","fields","Error","message","join","localStorage","setItem","token","shop","setTimeout","error","console","placeholder","onChange","required","disabled"],"sourceRoot":""}