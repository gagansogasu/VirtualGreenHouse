"use strict";(self.webpackChunkvirtual_greenhouse_frontend=self.webpackChunkvirtual_greenhouse_frontend||[]).push([[323],{323:(e,s,r)=>{r.r(s),r.d(s,{default:()=>i});var a=r(43),t=r(216),n=r(475),o=r(579);const i=()=>{const[e,s]=(0,a.useState)({name:"",email:"",phone:"",address:"",password:"",confirmPassword:"",terms:!1}),[r,i]=(0,a.useState)({}),[l,d]=(0,a.useState)(!1),[m,c]=(0,a.useState)(""),h=(0,t.Zp)(),p=e=>{const{name:a,value:t,type:n,checked:o}=e.target;s((e=>({...e,[a]:"checkbox"===n?o:t}))),r[a]&&i((e=>({...e,[a]:""})))};return(0,o.jsx)("div",{className:"register-container",children:(0,o.jsxs)("div",{className:"register-card",children:[(0,o.jsx)("div",{className:"center-section",children:(0,o.jsx)("img",{src:"/assets/user_register.jpg",alt:"Registration"})}),(0,o.jsxs)("div",{className:"right-section",children:[(0,o.jsxs)("div",{className:"register-header",children:[(0,o.jsx)("h1",{children:"Create Account"}),(0,o.jsx)("p",{children:"Join our community of plant lovers"})]}),(0,o.jsxs)("div",{className:"tabs",children:[(0,o.jsx)("button",{className:"tab active",children:"Register as User"}),(0,o.jsx)(n.N_,{to:"/register/shop",className:"tab",children:"Register as Shop"})]}),m&&(0,o.jsx)("div",{className:"success-message",children:m}),r.submit&&(0,o.jsx)("div",{className:"error-message",children:r.submit}),(0,o.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),(()=>{const s={};return e.name.trim()?e.name.trim().length<2&&(s.name="Name must be at least 2 characters long"):s.name="Full name is required",e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(s.email="Please enter a valid email address"):s.email="Email is required",e.phone.trim()?/^\d{10,}$/.test(e.phone.replace(/\D/g,""))||(s.phone="Please enter a valid phone number (minimum 10 digits)"):s.phone="Phone number is required",e.address.trim()?e.address.trim().length<5&&(s.address="Please enter a valid address"):s.address="Address is required",e.password?e.password.length<8?s.password="Password must be at least 8 characters long":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(e.password)||(s.password="Password must contain at least one uppercase letter, one lowercase letter, and one number"):s.password="Password is required",e.confirmPassword?e.password!==e.confirmPassword&&(s.confirmPassword="Passwords do not match"):s.confirmPassword="Please confirm your password",e.terms||(s.terms="You must accept the terms and conditions"),i(s),0===Object.keys(s).length})()){d(!0),i({});try{const s={name:e.name,email:e.email,password:e.password,phone:e.phone,address:e.address},r=await fetch("http://localhost:5000/api/users/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),a=await r.json();if(!r.ok)throw new Error(a.message||"Registration failed");localStorage.setItem("token",a.token),localStorage.setItem("user",JSON.stringify(a.user)),localStorage.setItem("userType","user"),c("Registration successful! Redirecting to dashboard..."),setTimeout((()=>{h("/user-dashboard")}),1500)}catch(r){console.error("Registration error:",r),i({submit:r.message||"Registration failed. Please try again."})}finally{d(!1)}}},children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"name",children:"Full Name"}),(0,o.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:p,placeholder:"Enter your full name",className:r.name?"error":""}),r.name&&(0,o.jsx)("span",{className:"error-text",children:r.name})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"email",children:"Email"}),(0,o.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:p,placeholder:"Enter your email",className:r.email?"error":""}),r.email&&(0,o.jsx)("span",{className:"error-text",children:r.email})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),(0,o.jsx)("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:p,placeholder:"Enter your phone number",className:r.phone?"error":""}),r.phone&&(0,o.jsx)("span",{className:"error-text",children:r.phone})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"address",children:"Address"}),(0,o.jsx)("input",{type:"text",id:"address",name:"address",value:e.address,onChange:p,placeholder:"Enter your address",className:r.address?"error":""}),r.address&&(0,o.jsx)("span",{className:"error-text",children:r.address})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"password",children:"Password"}),(0,o.jsx)("input",{type:"password",id:"password",name:"password",value:e.password,onChange:p,placeholder:"Create a password",className:r.password?"error":""}),r.password&&(0,o.jsx)("span",{className:"error-text",children:r.password})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,o.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:p,placeholder:"Confirm your password",className:r.confirmPassword?"error":""}),r.confirmPassword&&(0,o.jsx)("span",{className:"error-text",children:r.confirmPassword})]}),(0,o.jsxs)("div",{className:"checkbox",children:[(0,o.jsx)("input",{type:"checkbox",id:"terms",name:"terms",checked:e.terms,onChange:p,className:r.terms?"error":""}),(0,o.jsxs)("label",{htmlFor:"terms",children:["I accept the ",(0,o.jsx)(n.N_,{to:"/terms",children:"Terms & Conditions"})]}),r.terms&&(0,o.jsx)("span",{className:"error-text",children:r.terms})]}),(0,o.jsx)("button",{type:"submit",className:"register-btn",disabled:l,children:l?"Registering...":"Create Account"})]})]})]})})}}}]);
//# sourceMappingURL=323.9f7f53a1.chunk.js.map